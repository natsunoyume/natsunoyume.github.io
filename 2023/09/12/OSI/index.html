<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>OSI &amp; TCP/IP | 夏梦の小屋</title><meta name="author" content="夏梦"><meta name="copyright" content="夏梦"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、OSI模型开放式系统互联模型（Open System Interconnection Model，简称为OSI模型）该模型将通信系统中的数据流划分为七个层，从分布式应用程序数据的最高层表示到跨通信介质传输数据的物理实现。每个中间层为其上一层提供功能，其自身功能则由其下一层提供。功能的类别通过标准的通信协议在软件中实现。 OSI七层模型 第7层 应用层（Application Layer）提供为">
<meta property="og:type" content="article">
<meta property="og:title" content="OSI &amp; TCP&#x2F;IP">
<meta property="og:url" content="https://github.com/natsunoyume/natsunoyume.github.io/2023/09/12/OSI/index.html">
<meta property="og:site_name" content="夏梦の小屋">
<meta property="og:description" content="一、OSI模型开放式系统互联模型（Open System Interconnection Model，简称为OSI模型）该模型将通信系统中的数据流划分为七个层，从分布式应用程序数据的最高层表示到跨通信介质传输数据的物理实现。每个中间层为其上一层提供功能，其自身功能则由其下一层提供。功能的类别通过标准的通信协议在软件中实现。 OSI七层模型 第7层 应用层（Application Layer）提供为">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/yande.re%201112197%20animal_ears%20hololive%20jimmy_madomagi%20minato_aqua%20nekomimi%20pantyhose%20tail.jpg">
<meta property="article:published_time" content="2023-09-12T14:25:53.000Z">
<meta property="article:modified_time" content="2023-09-12T15:04:32.060Z">
<meta property="article:author" content="夏梦">
<meta property="article:tag" content="网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/yande.re%201112197%20animal_ears%20hololive%20jimmy_madomagi%20minato_aqua%20nekomimi%20pantyhose%20tail.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/natsunoyume/Image/Web/favicon.png"><link rel="canonical" href="https://github.com/natsunoyume/natsunoyume.github.io/2023/09/12/OSI/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'OSI & TCP/IP',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-12 23:04:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/Web/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/yande.re%201112197%20animal_ears%20hololive%20jimmy_madomagi%20minato_aqua%20nekomimi%20pantyhose%20tail.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="夏梦の小屋"><span class="site-name">夏梦の小屋</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">OSI &amp; TCP/IP</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-12T14:25:53.000Z" title="发表于 2023-09-12 22:25:53">2023-09-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-12T15:04:32.060Z" title="更新于 2023-09-12 23:04:32">2023-09-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="OSI &amp; TCP/IP"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="一、OSI模型"><a href="#一、OSI模型" class="headerlink" title="一、OSI模型"></a>一、OSI模型</h2><p>开放式系统互联模型（<strong>Open System Interconnection Model</strong>，简称为OSI模型）<br>该模型将通信系统中的数据流划分为七个层，从分布式应用程序数据的最高层表示到跨通信介质传输数据的物理实现。每个中间层为其上一层提供功能，其自身功能则由其下一层提供。功能的类别通过标准的通信协议在软件中实现。</p>
<h3 id="OSI七层模型"><a href="#OSI七层模型" class="headerlink" title="OSI七层模型"></a>OSI七层模型</h3><ul>
<li><p>第7层 应用层（<strong>Application Layer</strong>）<br>提供为应用软件而设计的接口，以设置与另一应用软件之间的通信。例如：HTTP、HTTPS、FTP、Telnet、SSH、SMTP、POP3等。</p>
</li>
<li><p>第6层 表示层（<strong>Presentation Layer</strong>）<br>把数据转换为能与接收者的系统格式兼容并适合传输的格式。</p>
</li>
<li><p>第5层 会话层（<strong>Session Layer</strong>）<br>负责在数据传输中设置和维护计算机网络中两台计算机之间的通信连接。</p>
</li>
<li><p>第4层 传输层（<strong>Transport Layer</strong>）<br>把传输表头（TH）加至资料以形成分组。传输表头包含了所使用的协议等发送信息。例如:传输控制协议（TCP）等。</p>
</li>
<li><p>第3层 网络层（<strong>Network Layer</strong>）<br>决定数据的路径选择和转寄，将网络表头（NH）加至数据包，以形成分组。网络表头包含了网络资料。例如:互联网协议（IP）等。</p>
</li>
<li><p>第2层 数据链路层（<strong>Data Link Layer</strong>）<br>資料連結層负责网络寻址、错误侦测和改错。当表头和表尾被加至数据包时，会形成信息框（Info Box）。数据链表头（DLH）是包含了物理地址和错误侦测及改错的方法。数据链表尾（DLT）是一串指示数据包末端的字符串。例如以太网、无线局域网（Wi-Fi）和通用分组无线服务（GPRS）等。</p>
<ul>
<li>分为两个子层：逻辑链路控制（logical link control，LLC）子层和介质访问控制（Media access control，MAC）子层。</li>
</ul>
</li>
<li><p>第1层 物理层（<strong>Physical Layer</strong>）<br>在局域网上发送数据帧（Data Frame），它负责管理电脑通信设备和网络媒体之间的互通。包括了针脚、电压、线缆规范、集线器、中继器、网卡、主机接口卡、路由器等。</p>
</li>
</ul>
<h3 id="图例："><a href="#图例：" class="headerlink" title="图例："></a>图例：</h3><p><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020101.png"><br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020102.png"><br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020103.png"></p>
<h2 id="二、TCP-IP模型"><a href="#二、TCP-IP模型" class="headerlink" title="二、TCP&#x2F;IP模型"></a>二、TCP&#x2F;IP模型</h2><p>TCP&#x2F;IP 模型是由 OSI 模型演化而来，TCP&#x2F;IP 模型将 OSI 模型由七层简化为五层，应用层、表示层、会话层统一为应用层。<br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020104.png"></p>
<h3 id="TCP-IP协议"><a href="#TCP-IP协议" class="headerlink" title="TCP&#x2F;IP协议"></a>TCP&#x2F;IP协议</h3><ul>
<li><p>物理层和数据链路层<br>在物理层和数据链路层，TCP&#x2F;IP并没有定义任何特定的协议。它支持所有标准的和专用的协议，例如以太网协议等。基本上所有的局域网都采用以太网技术，上述说明的过程就是以太网技术所采用的方式。至于PPP协议一 般用于点到点传输，电信网通等部门早期采用的一种技术，现在ADSL 技术中使用的PPPoE、PPPoA协议就是PPP协议的一种。</p>
</li>
<li><p>网络层：<br>在网络层，TCP&#x2F;IP定义了网络协议（Internet Protocol，简称IP），而IP又由4个支撑协议组成：ARP（地址解析协议）、RARP（逆地址解析协议）、ICMP（网际控制报文协议）和IGMP（网际组管理协议）。</p>
</li>
<li><p>传输层：<br>传输层是整个网络体系中的关键层次之一，主要负责向两个主机中进程之间的通信提供服务。由于主机同时运行多个进程，因此运输层具有复用和分用功能。</p>
</li>
<li><p>应用层：<br>在这一层有很多上层应用协议，这些协议帮助实现上层应用之间的通讯，例如HTTP（超文本传输协议）、FTP（文本传输协议）、SMTP（简单邮件传输协议）、DNS（域名系统）等。</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020105.png"></p>
<h4 id="TCP-传输控制协议"><a href="#TCP-传输控制协议" class="headerlink" title="TCP(传输控制协议)"></a>TCP(传输控制协议)</h4><p>协议应用的端口及其协议功能—-传输更加稳定可靠</p>
<ul>
<li>80 HTTP(超文本传输协议):用于浏览器和web服务器之间的请求和响应的交互</li>
<li>21 FTP (文件传输协 议) :用于控制连接FTP服务器</li>
<li>53 DNS(域名系统):用于连接DNS服务器</li>
<li>25 SMTP(简单邮件传输协议):用于发送邮件</li>
<li>110 POP3(邮局协议版本3):用于接收邮件</li>
<li>22 SSH(安全外壳协议):用于计算机之间的远程加密登录</li>
</ul>
<h4 id="UDP-用户数据报协议"><a href="#UDP-用户数据报协议" class="headerlink" title="UDP(用户数据报协议)"></a>UDP(用户数据报协议)</h4><p>协议应用的端口及其协议功能—-传输效率更高</p>
<ul>
<li>69 TFTP(简单文件传输协议):用于小文件的传输</li>
<li>53 DNS(域名系统):用于解析DNS</li>
<li>111 RPC(远程调用协议):用于远程过程调用</li>
<li>161 SNMP(简单网络管理协议):用于网络设备的管理</li>
<li>123 NTP(网络时间协议):用于网络时间同步</li>
</ul>
<h4 id="IP-网际协议"><a href="#IP-网际协议" class="headerlink" title="IP(网际协议)"></a>IP(网际协议)</h4><p>协议及其功能</p>
<ul>
<li>ARP(地址解析协议):用于在局域网中根据IP地址获取物理地址</li>
<li>RARP(逆地址解析协议):用于在局域网中通过ARP表根据物理地址请求IP地址</li>
<li>ICMP(网际控制报文协议):用于验证网络是否畅通</li>
<li>IGMP(网际组管理协议):用于主机与组播路由器之间组播通信</li>
</ul>
<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><ul>
<li>TCP&#x2F;IP协议中的应用层处理OSI中的第五层、第六层和第七层的功能。</li>
<li>TCP&#x2F;IP协议中的传输层不能保证数据包在该层总是能够安全可靠地传输，而OSI可以做到。</li>
<li>TCP&#x2F;IP协议还提供一项名为UDP（用户数据报协议）的选择。</li>
</ul>
<h2 id="三、科来工具"><a href="#三、科来工具" class="headerlink" title="三、科来工具"></a>三、科来工具</h2><p>目的：查看数据在网络中是否是分层的<br>可以看到的层有：<strong>数据链路层、网络层、传输层</strong><br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020106.jpg"></p>
<h3 id="数据通信"><a href="#数据通信" class="headerlink" title="数据通信"></a>数据通信</h3><p>设备之间的通信，指的是设备之间能够相互传输数据<br>设备时间的数据传输，一定是双向的，每个方向都分3个阶段</p>
<ul>
<li>① 产生数据（数据封装）</li>
<li>② 传输数据（网络传输）</li>
<li>③ 接收数据（数据解封装）</li>
</ul>
<h2 id="四、数据封装与解封装"><a href="#四、数据封装与解封装" class="headerlink" title="四、数据封装与解封装"></a>四、数据封装与解封装</h2><h3 id="数据封装过程"><a href="#数据封装过程" class="headerlink" title="数据封装过程"></a>数据封装过程</h3><p>上层应用层下发一个应用数据到传输层会加上端口，假如是TCP协议，会加上一个TCP头部里面有源端口和目的端口，数据再传到网络层会变成数据包，会加上IP头部，里面有源IP地址和目的IP地址，再往下到达数据链路层变成数据帧，加上MAC头部，里面包含源MAC地址和目的MAC地址，再往下到达物理层变成比特流转换为电信号和光信号再进行传输<br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020107.png"></p>
<h3 id="数据解封装过程"><a href="#数据解封装过程" class="headerlink" title="数据解封装过程"></a>数据解封装过程</h3><p>物理层比特流转换为电信号光信号上传到数据链路层变成数据帧，确认里面目的MAC地址准确无误，接着传输到网络层变成数据包，确认目的IP地址无误接着往上传，到传输层变成数据段，里面有源端口号和目的端口号，如果发现目的端口是匹配程序将会在应用层解压解密翻译出来在用户界面<br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020108.png"></p>
<h3 id="PDU"><a href="#PDU" class="headerlink" title="PDU"></a>PDU</h3><ul>
<li><strong>protocol data unit</strong> - 协议 数据 单元</li>
</ul>
<p>协议数据单元(<strong>PDU</strong>)：数据链路层的PDU是数据帧，网络层的PDU是数据包，传输层的PDU是数据段，物理层的PDU是比特流<br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020109.png"></p>
<h3 id="设备与层的对应关系"><a href="#设备与层的对应关系" class="headerlink" title="设备与层的对应关系"></a>设备与层的对应关系</h3><p><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020110.png"></p>
<h2 id="五、层间通讯过程"><a href="#五、层间通讯过程" class="headerlink" title="五、层间通讯过程"></a>五、层间通讯过程</h2><ul>
<li><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020111.png"></li>
<li><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020112.png"></li>
</ul>
<h2 id="六、DNS"><a href="#六、DNS" class="headerlink" title="六、DNS"></a>六、DNS</h2><p>域名系统 （domain name system，DNS），是互联网提供的一项名字服务。它作为将域名和IP地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS使用TCP和UDP端口53</p>
<ul>
<li>DNS解析类型<ul>
<li>正向解析：通过域名解析IP地址</li>
<li>反向解析：通过IP地址解析域名</li>
<li>hosts文件解析<br>C:\Windows\System32\drivers\etc\hosts(主机名解析文件)</li>
</ul>
</li>
<li>常见顶级域名<ul>
<li>.com、.top、.edu、.gov、.mil、.net、.org</li>
</ul>
</li>
<li>DNS域名解析查询方式<ul>
<li>递归解析</li>
<li>迭代解析</li>
</ul>
</li>
</ul>
<h2 id="七、数据帧"><a href="#七、数据帧" class="headerlink" title="七、数据帧"></a>七、数据帧</h2><p>数据帧（Data frame），就是数据链路层的协议数据单元，它包括三部分：帧头，数据部分，帧尾。其中，帧头和帧尾包含一些必要的控制信息，比如同步信息、地址信息、差错控制信息等；数据部分则包含网络层传下来的数据，比如IP数据包，等等<br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020113.png"></p>
<ul>
<li>6个字节：一个MAC地址长度  （8个bit &#x3D;1个字节 6字节*8bit&#x3D;48bit）</li>
<li>目的地址：接收主机的MAC地址</li>
<li>源地址：发送数据主机的MAC地址</li>
<li>类型：用来标识上层协议的类型，使用网络层哪种协议</li>
<li>数据：上层数据（46~1500字节），就是用户发出来的数据—图片  文字  文档</li>
<li>帧校验序列：校验数据的是否丢失和完整性</li>
</ul>
<h2 id="八、IP协议"><a href="#八、IP协议" class="headerlink" title="八、IP协议"></a>八、IP协议</h2><p>TCP&#x2F;IP协议定义了一个在因特网上传输的包，称为IP数据报，由首部和数据两部分组成。首部的前一部分是固定长度，共20字节，是所有IP数据报必须具有的。在首部的固定部分的后面是一些可选字段，其长度是可变的。首部中的源地址和目的地址都是IP协议地址<br><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020114.png"></p>
<ul>
<li>版本：指IP协议版本。占4bit，通信双方使用的版本必须一致，一般的值为0100（IPv4），0110（IPv6）</li>
<li>首部长度：占4bit，首部长度说明首部有多少字节。可能包含数目不定的选项，这个字段也用来确定数据的偏移量。</li>
<li>区分服务：占6bit，只有在使用区分服务时，这个字段才起作用，在一般的情况下都不使用这个字段。例如需要实时数据流的技术会应用这个字段</li>
<li>显式拥塞通告：允许在不丢弃报文的同时通知对方网络拥塞的发生</li>
<li>总长度：占16位，定义了报文总长，包含首部和数据。最小值是20（20字节首部+0字节数据），最大值是65535</li>
<li>标识符：占16位，主要被用来唯一地标识一个报文的所有分片，因为分片不一定按序到达，所以在重组时需要知道分片所属的报文</li>
<li>标志：占3位，用于控制和识别分片<ul>
<li>位0：保留，必须为0；</li>
<li>位1：禁止分片（Don’t Fragment，DF），当DF&#x3D;0时才允许分片；</li>
<li>位2：更多分片（More Fragment，MF），MF&#x3D;1代表后面还有分片，MF&#x3D;0 代表已经是最后一个分片。</li>
</ul>
</li>
<li>分片偏移：占13位，指明了每个分片相对于原始报文开头的偏移量，以8字节作单位</li>
<li>存活时间：占8位，避免报文在互联网中（例路由环路）永远存在，经过的每个路由器都将此字段减1，当此字段等于0时，报文不再向下一跳传送并被丢弃，最大值是255</li>
<li>协议号：占8bit，定义了该报文数据区使用的协议<ul>
<li>1	互联网控制消息协议	<code>ICMP</code></li>
<li>2	互联网组管理协议	<code>IGMP</code></li>
<li>6	传输控制协议	<code>TCP</code></li>
<li>17	用户数据报协议	<code>UDP</code></li>
<li>89	开发式最短路径优先	<code>OSPF</code></li>
<li>132	流控制传输协议	<code>SCTP</code></li>
</ul>
</li>
<li>首部校验和：占16位，只对首部查错，不包括数据部分。在每一跳，路由器都要重新计算出的首部检验和并与此字段进行比对，如果不一致，此报文将会被丢弃</li>
<li>源地址：占32位，发送端的IP地址</li>
<li>目标地址：占32位，接受端的IP地址</li>
<li>可选项：附加的首部字段可能跟在目的地址之后，但这并不被经常使用，从1到40个字节不等</li>
<li>数据：上层数据</li>
</ul>
<h2 id="九、TCP与UDP协议"><a href="#九、TCP与UDP协议" class="headerlink" title="九、TCP与UDP协议"></a>九、TCP与UDP协议</h2><p>TCP 传输控制协议 (<strong>Transmission Control Protocol</strong>) 和 UDP 用户数据包协议 (<strong>User Datagram Protocol</strong>) 是两种不同的网络传输协议。</p>
<ul>
<li>TCP是一种面向连接的协议，它在传输数据之前会建立一条专用的通信连接。这意味着在数据传输过程中，两台计算机之间会有一条稳定的数据传输通道。因此，TCP可以保证数据传输的可靠性，但会带来一定的延迟。</li>
<li>UDP是一种无连接的协议，它不会建立专用的通信连接。每个数据包都是独立的，可以直接传输。因此，UDP的传输速度比TCP快，但不能保证数据传输的可靠性。</li>
</ul>
<h3 id="TCP报文"><a href="#TCP报文" class="headerlink" title="TCP报文"></a>TCP报文</h3><p><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020115.png"></p>
<ul>
<li>来源连接端口（16位）－识别发送连接端口</li>
<li>目的连接端口（16位）－识别接收连接端口</li>
<li>序列号（seq，32位）<ul>
<li>如果含有同步化旗标（SYN），则此为最初的序列号；第一个资料比特的序列码为本序列号加一。</li>
<li>如果没有同步化旗标（SYN），则此为第一个资料比特的序列码。</li>
</ul>
</li>
<li>确认号（ack，32位）—期望收到的数据的开始序列号。也即已经收到的数据的字节长度加1。</li>
<li>资料偏移（4位）—以4字节为单位计算出的数据段开始地址的偏移值。</li>
<li>保留（3位）—须置0</li>
<li>标志符（9位）<ul>
<li>NS—ECN显式拥塞通知，是对TCP的扩展</li>
<li>CWR—Congestion Window Reduced，定义于 RFC 3168（2001）。</li>
<li>ECE—ECN-Echo有两种意思，取决于SYN标志的值，定义于 RFC 3168（2001）。</li>
<li>URG—为1表示高优先级数据包，紧急指针字段有效。</li>
<li>ACK—为1表示确认号字段有效</li>
<li>PSH—为1表示是带有PUSH标志的数据，指示接收方应该尽快将这个报文段交给应用层而不用等待缓冲区装满。</li>
<li>RST—为1表示出现严重差错。可能需要重新创建TCP连接。还可以用于拒绝非法的报文段和拒绝连接请求。</li>
<li>SYN—为1表示这是连接请求或是连接接受请求，用于创建连接和使顺序号同步</li>
<li>FIN—为1表示发送方没有数据要传输了，要求释放连接。</li>
</ul>
</li>
<li>窗口（16位）—表示从确认号开始，本报文的发送方可以接收的字节数，即接收窗口大小。用于流量控制。</li>
<li>校验和（16位）—对整个的TCP报文段，包括TCP头部和TCP数据，以16位字进行计算所得。这是一个强制性的字段。</li>
<li>紧急指针（16位长）—本报文段中的紧急数据的最后一个字节的序号。</li>
<li>选项字段—最多40字节。每个选项的开始是1字节的kind字段，说明选项的类型。<ul>
<li>0：选项表结束（1字节）</li>
<li>1：无操作（1字节）用于选项字段之间的字边界对齐。</li>
<li>2：最大报文段长度（4字节）指明本端所能接收的最大报文段长度</li>
<li>3：窗口扩大因子（3字节），取值0-14。用来将窗口大小字段左移，使其增倍，以适应大于65535字节的接收缓冲区。</li>
<li>4：sackOK—发送端支持并同意使用SACK选项。</li>
<li>5：SACK实际工作的选项。</li>
<li>8：时间戳（10字节，TCP Timestamps Option，TSopt）<ul>
<li>发送端的时间戳（Timestamp Value field，TSval，4字节）</li>
<li>时间戳回显应答（Timestamp Echo Reply field，TSecr，4字节）</li>
</ul>
</li>
<li>19：MD5摘要，将TCP伪首部、校验和为0的TCP首部、TCP数据段、通信双方约定的密钥（可选）计算出MD5摘要值并附加到该选项中，作为类似对TCP报文的签名。通过 RFC 2385 引入，主要用于增强BGP通信的安全性。</li>
<li>29：安全摘要，通过 RFC 5925 引入，将“MD5摘要”的散列方法更换为SHA散列算法。</li>
</ul>
</li>
</ul>
<h3 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h3><p><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020117.png"><br>三次握手协议的过程：</p>
<ul>
<li>第一次握手 TCP客户进程也是先创建传输控制块TCB，然后向服务器发出连接请求报文，这是报文首部中的同部位SYN&#x3D;1，同时选择一个初始序列号 seq&#x3D;x ，此时，TCP客户端进程进入了 SYN-SENT 同步已发送状态</li>
<li>第二次握手 TCP服务器收到请求报文后，如果同意连接，则会向客户端发出确认报文。确认报文中应该 ACK&#x3D;1，SYN&#x3D;1，确认号是ack&#x3D;x+1，同时也要为自己初始化一个序列号 seq&#x3D;y，此时，TCP服务器进程进入了 SYN-RCVD 同步收到状态</li>
<li>第三次握手 TCP客户端收到确认后，还要向服务器给出确认。确认报文的ACK&#x3D;1，ack&#x3D;y+1，自己的序列号seq&#x3D;x+1，此时，TCP连接建立，客户端进入ESTABLISHED已建立连接状态 触发三次握手</li>
</ul>
<h4 id="为什么要进行第三次握手？"><a href="#为什么要进行第三次握手？" class="headerlink" title="为什么要进行第三次握手？"></a>为什么要进行第三次握手？</h4><p>原因：防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误</p>
<ul>
<li>第一次握手： 客户端向服务器端发送报文<br>证明客户端的发送能力正常</li>
<li>第二次握手：服务器端接收到报文并向客户端发送报文<br>证明服务器端的接收能力、发送能力正常</li>
<li>第三次握手：客户端向服务器发送报文<br>证明客户端的接收能力正常</li>
</ul>
<h3 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h3><p><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020118.png"></p>
<ul>
<li>第一次挥手 客户端发出连接释放报文，并且停止发送数据。释放数据报文首部，FIN&#x3D;1，其序列号为seq&#x3D;u（等于前面已经传送过来的数据的最后一个字节的序号加1），此时，客户端进入FIN-WAIT-1（终止等待1）状态</li>
<li>第二次挥手 服务器端接收到连接释放报文后，发出确认报文，ACK&#x3D;1，ack&#x3D;u+1，并且带上自己的序列号seq&#x3D;v，此时，服务端就进入了CLOSE-WAIT 关闭等待状态</li>
<li>第三次挥手 客户端接收到服务器端的确认请求后，客户端就会进入FIN-WAIT-2（终止等待2）状态，等待服务器发送连接释放报文，服务器将最后的数据发送完毕后，就向客户端发送连接释放报文，服务器就进入了LAST-ACK（最后确认）状态，等待客户端的确认。</li>
<li>第四次挥手 客户端收到服务器的连接释放报文后，必须发出确认，ACK&#x3D;1，ack&#x3D;w+1，而自己的序列号是seq&#x3D;u+1，此时，客户端就进入了TIME-WAIT（时间等待）状态，但此时TCP连接还未终止，必须要经过2MSL后（最长报文寿命），当客户端撤销相应的TCB后，客户端才会进入CLOSED关闭状态，服务器端接收到确认报文后，会立即进入CLOSED关闭状态，到这里TCP连接就断开了，四次挥手完成</li>
</ul>
<h3 id="UDP报文"><a href="#UDP报文" class="headerlink" title="UDP报文"></a>UDP报文</h3><p><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/02/020116.png"></p>
<ul>
<li>来源端口：在需要对方回信时选用，不需要时那么置为零</li>
<li>目的端口：这在终点交付报文时必须要使用到</li>
<li>报文长度：指定UDP报头和数据总共占用的长度。可能的最小长度是8字节</li>
<li>校验和：用于发现头部信息和数据中的传输错误</li>
<li>数据：上层应用层的数据</li>
</ul>
<h2 id="十、ICMP协议"><a href="#十、ICMP协议" class="headerlink" title="十、ICMP协议"></a>十、ICMP协议</h2><p>互联网控制消息协议（<strong>Internet Control Message Protocol，ICMP</strong>）通常用于返回的错误信息或是分析路由，提供可能发生在通信环境中的各种问题反馈。通过这些信息，可以对所发生的问题作出诊断，然后采取适当的措施解决</p>
<ul>
<li>目标主机不可达，Destination host unreachable.<br>  原因：数据包出不去，在PC中没办法发出去 <ul>
<li>同网段中没有这个地址 </li>
<li>跨网段时，本主机没有填写网关地址 </li>
<li>在进行数据封装时失败，导致数据无法发出</li>
</ul>
</li>
<li>请求时间超时，Request timed out.<br>  原因：数据包可以出去，但是回不来<ul>
<li>数据包从主机中发出去了，但是中间传输的网络设备无法找到目标主机 </li>
<li>数据包从主机中发出去了，传输的网络设备也将数据包发送给目标主机了，但是目标主机没有回复，或者目标主机回复的消息，中间的传输设备没能正常转发给源主机 </li>
<li>对方主机没有填写网关地址 </li>
<li>防火墙，被防火墙阻断了</li>
</ul>
</li>
</ul>
<h2 id="十一、ARP协议"><a href="#十一、ARP协议" class="headerlink" title="十一、ARP协议"></a>十一、ARP协议</h2><p>地址解析协议（<strong>Address Resolution Protocol，ARP</strong>）是一个通过解析网络层地址(IP)来找寻数据链路层地址(MAC)</p>
<p>电脑或路由器里都有一个ARP缓存表，表里的IP地址与MAC地址是一一对应的，ARP缓存表采用老化机制，在一段时间内如果表中的某一行没有使用，就会被删除，这样可减少缓存表的长度，加快查询速度。</p>
<ul>
<li>当发送数据时，源主机会在自己的ARP缓存表中寻找是否有目标IP地址。如果找到就知道目标MAC地址，直接把目标MAC地址写入帧里面发送就可。</li>
<li>如果在ARP缓存表中没有找到相对应的IP地址，源主机就会在网络上发送一个广播（ARP request），目标MAC地址是“FF.FF.FF.FF.FF.FF”，这表示向同一网段内的所有主机发出这样的询问：“192.168.38.11的MAC地址是什么？”</li>
<li>网络上其他主机并不响应ARP询问，只有目标主机接收到这个帧时，才向源主机做出这样的回应（ARP response）：“192.168.38.11的MAC地址是00-BB-00-62-C2-02”，此回应以单播方式进行。这样，源主机就知道目标主机的MAC地址，它就可以向目标主机发送信息。同时它还更新自己的ARP高速缓存（ARP cache），下次再向目标主机发送信息时，直接从ARP缓存表里查找就可。</li>
</ul>
<p>无回报的ARP（gratuitous ARP），它是指主机发送ARP查询（广播）自己的IP地址，当ARP功能被开启或者是端口初始配置完成，主机向网络发送无回报的ARP来查询自己的IP地址确认地址唯一可用。作用：</p>
<ul>
<li>确定网络中是否有其他主机使用了IP地址，如果有应答则产生错误消息。</li>
<li>无回报的ARP可以做更新ARP缓存用，网络中的其他主机收到该广播则在缓存中更新条目，收到该广播的主机无论是否存在与IP地址相关的条目都会强制更新，如果存在旧条目则会将MAC更新为广播包中的MAC。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://github.com/natsunoyume/natsunoyume.github.io">夏梦</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://github.com/natsunoyume/natsunoyume.github.io/2023/09/12/OSI/">https://github.com/natsunoyume/natsunoyume.github.io/2023/09/12/OSI/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://github.com/natsunoyume/natsunoyume.github.io" target="_blank">夏梦の小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C/">网络</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/yande.re%201112197%20animal_ears%20hololive%20jimmy_madomagi%20minato_aqua%20nekomimi%20pantyhose%20tail.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/13/Switch/" title="交换机协议与配置（一）"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_106874372_20230405_013728.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">交换机协议与配置（一）</div></div></a></div><div class="next-post pull-right"><a href="/2023/09/09/windows/" title="Windows"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_96436355_20230130_234122.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Windows</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/09/25/Router-3/" title="路由器协议与配置（三）"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_97032057_20230730_145910.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="title">路由器协议与配置（三）</div></div></a></div><div><a href="/2023/09/25/Router-4/" title="路由器协议与配置（四）"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_91501751_20220221_134455.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="title">路由器协议与配置（四）</div></div></a></div><div><a href="/2023/09/25/Router-2/" title="路由器协议与配置（二）"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/Konachan.com%20-%20354226%202girls%20blush%20breasts%20brown_hair%20building%20chinese_clothes%20cleavage%20clouds%20food%20kuuus%20leaves%20long_hair%20ponytail%20sky%20twintails%20umbrella%20yellow_eyes.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="title">路由器协议与配置（二）</div></div></a></div><div><a href="/2023/09/25/Router-5/" title="路由器协议与配置（五）"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_91458860_20220322_003350.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="title">路由器协议与配置（五）</div></div></a></div><div><a href="/2023/09/25/Router-7/" title="路由器协议与配置（七）"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/Konachan.com%20-%20271521%20animal%20atdan%20barefoot%20bird%20breasts%20brown_eyes%20brown_hair%20butterfly%20cleavage%20flowers%20forest%20grass%20green%20long_hair%20original%20shirt%20signed%20tree.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="title">路由器协议与配置（七）</div></div></a></div><div><a href="/2023/09/25/Router/" title="路由器协议与配置（一）"><img class="cover" src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/Konachan.com%20-%20359293%20bell%20cake%20doge_onion%20dress%20elbow_gloves%20elysia_(honkai_impact)%20food%20fruit%20gloves%20honkai_impact%20honkai_(series)%20long_hair%20nopan%20pink_hair%20purple_eyes.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="title">路由器协议与配置（一）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/Web/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">夏梦</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" href="https://github.com/natsunoyume"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/natsunoyume" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81OSI%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">一、OSI模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.</span> <span class="toc-text">OSI七层模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E4%BE%8B%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">图例：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81TCP-IP%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">二、TCP&#x2F;IP模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP-IP%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.1.</span> <span class="toc-text">TCP&#x2F;IP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.1.1.</span> <span class="toc-text">TCP(传输控制协议)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UDP-%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.1.2.</span> <span class="toc-text">UDP(用户数据报协议)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IP-%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.1.3.</span> <span class="toc-text">IP(网际协议)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">2.2.</span> <span class="toc-text">区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%A7%91%E6%9D%A5%E5%B7%A5%E5%85%B7"><span class="toc-number">3.</span> <span class="toc-text">三、科来工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1"><span class="toc-number">3.1.</span> <span class="toc-text">数据通信</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E4%B8%8E%E8%A7%A3%E5%B0%81%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text">四、数据封装与解封装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-number">4.1.</span> <span class="toc-text">数据封装过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A7%A3%E5%B0%81%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-number">4.2.</span> <span class="toc-text">数据解封装过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PDU"><span class="toc-number">4.3.</span> <span class="toc-text">PDU</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E4%B8%8E%E5%B1%82%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-number">4.4.</span> <span class="toc-text">设备与层的对应关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%B1%82%E9%97%B4%E9%80%9A%E8%AE%AF%E8%BF%87%E7%A8%8B"><span class="toc-number">5.</span> <span class="toc-text">五、层间通讯过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81DNS"><span class="toc-number">6.</span> <span class="toc-text">六、DNS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%95%B0%E6%8D%AE%E5%B8%A7"><span class="toc-number">7.</span> <span class="toc-text">七、数据帧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81IP%E5%8D%8F%E8%AE%AE"><span class="toc-number">8.</span> <span class="toc-text">八、IP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81TCP%E4%B8%8EUDP%E5%8D%8F%E8%AE%AE"><span class="toc-number">9.</span> <span class="toc-text">九、TCP与UDP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%8A%A5%E6%96%87"><span class="toc-number">9.1.</span> <span class="toc-text">TCP报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="toc-number">9.2.</span> <span class="toc-text">三次握手</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8C%E7%AC%AC%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%9F"><span class="toc-number">9.2.1.</span> <span class="toc-text">为什么要进行第三次握手？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-number">9.3.</span> <span class="toc-text">四次挥手</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%8A%A5%E6%96%87"><span class="toc-number">9.4.</span> <span class="toc-text">UDP报文</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81ICMP%E5%8D%8F%E8%AE%AE"><span class="toc-number">10.</span> <span class="toc-text">十、ICMP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">11.</span> <span class="toc-text">十一、ARP协议</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/09/25/Router-7/" title="路由器协议与配置（七）"><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/Konachan.com%20-%20271521%20animal%20atdan%20barefoot%20bird%20breasts%20brown_eyes%20brown_hair%20butterfly%20cleavage%20flowers%20forest%20grass%20green%20long_hair%20original%20shirt%20signed%20tree.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器协议与配置（七）"/></a><div class="content"><a class="title" href="/2023/09/25/Router-7/" title="路由器协议与配置（七）">路由器协议与配置（七）</a><time datetime="2023-09-25T11:33:04.000Z" title="发表于 2023-09-25 19:33:04">2023-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/25/Router-6/" title="路由器协议与配置（六）"><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/Konachan.com%20-%20342260%20amane_kanata%20angel%20boots%20bow%20chihiro_ayaka%20computer%20game_console%20garter%20gray_hair%20halo%20hololive%20kneehighs%20purple_eyes%20short_hair%20skirt%20socks%20wings.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器协议与配置（六）"/></a><div class="content"><a class="title" href="/2023/09/25/Router-6/" title="路由器协议与配置（六）">路由器协议与配置（六）</a><time datetime="2023-09-25T11:31:07.000Z" title="发表于 2023-09-25 19:31:07">2023-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/25/Router-5/" title="路由器协议与配置（五）"><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_91458860_20220322_003350.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器协议与配置（五）"/></a><div class="content"><a class="title" href="/2023/09/25/Router-5/" title="路由器协议与配置（五）">路由器协议与配置（五）</a><time datetime="2023-09-25T11:28:55.000Z" title="发表于 2023-09-25 19:28:55">2023-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/25/Router-4/" title="路由器协议与配置（四）"><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_91501751_20220221_134455.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器协议与配置（四）"/></a><div class="content"><a class="title" href="/2023/09/25/Router-4/" title="路由器协议与配置（四）">路由器协议与配置（四）</a><time datetime="2023-09-25T11:25:25.000Z" title="发表于 2023-09-25 19:25:25">2023-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/25/Router-3/" title="路由器协议与配置（三）"><img src="https://cdn.jsdelivr.net/gh/natsunoyume/Image/img/top-image/illust_97032057_20230730_145910.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器协议与配置（三）"/></a><div class="content"><a class="title" href="/2023/09/25/Router-3/" title="路由器协议与配置（三）">路由器协议与配置（三）</a><time datetime="2023-09-25T11:21:37.000Z" title="发表于 2023-09-25 19:21:37">2023-09-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 By 夏梦</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>